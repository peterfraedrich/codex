{
  "author": {
    "name": "Henri Bouvier"
  },
  "name": "dns",
  "description": "A DNS Server with a REST API",
  "version": "0.2.2",
  "keywords": [
    "dns",
    "REST"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/hbouvier/dns.git"
  },
  "dependencies": {
    "winston": "0.7.3",
    "hbo-dnsd": "0.9.8",
    "native-dns": "0.6.1",
    "node-options": "0.0.6",
    "tomahawk": "0.1.6",
    "tomahawk-plugin-kv-memory-store": "0.0.3"
  },
  "engines": {
    "node": ">= 0.10.0 < 0.11.0"
  },
  "main": "./lib/dns.js",
  "bin": {
    "dns": "./bin/dns"
  },
  "scripts": {
    "start": "bin/dns"
  },
  "configuration": {
    "name": "DNS",
    "context": "/",
    "level": "info",
    "port": 8053,
    "plugins": {
      "store": {
        "context": "/dns/api/v1",
        "interval": 1000,
        "implementation": "tomahawk-plugin-kv-memory-store",
        "filename": "${HOME}/.dns/dns-store"
      }
    },
    "dns": {
      "host": "0.0.0.0",
      "port": 53,
      "zone": "local.dev",
      "ttl": 3600,
      "prefix": "dns:",
      "primary": "8.8.8.8",
      "secondary": "8.8.4.4",
      "timeout": 1000
    }
  },
  "readme": "[![Build Status](https://travis-ci.org/hbouvier/dns.png)](https://travis-ci.org/hbouvier/dns)\n[![dependency Status](https://david-dm.org/hbouvier/dns/status.png?theme=shields.io)](https://david-dm.org/hbouvier/dns#info=dependencies)\n[![devDependency Status](https://david-dm.org/hbouvier/dns/dev-status.png?theme=shields.io)](https://david-dm.org/hbouvier/dns#info=devDependencies)\n[![NPM version](https://badge.fury.io/js/dns.png)](http://badge.fury.io/js/dns)\n\nDNS\n===\n\nA DNS Server with an Web UI and using Redis a configuration store\n\n## Installation\n\n\tbrew install redis\n\tsudo npm install -g dns\n\n## Startup\n\n\t/usr/local/opt/redis/bin/redis-server /usr/local/etc/redis.conf >& /tmp/redis.log &\n\tsudo dns >& /tmp/dns.log &\n\n## Web UI\n\n\topen http://localhost:8053\n\n## REDIS CONFIGURATION\n\n\tREDIS_PORT_6379_TCP_ADDR  (default: 127.0.0.1)\n    REDIS_PORT_6379_TCP_PORT  (default: 6379)\n\n## DNS CONFIGURATION\n\n    DNSINTERFACE (default: 0.0.0.0)\n    DNSPORT      (default: 53 <- require root privilege to run)\n    DNSZONE      (default: local.dev)\n    DNSTTL       (default: 3600 <- one hour)\n    DNSPREFIX    (default: \"dns:\" <- key prefix in redis)\n    DNSPRIMARY   (default: 8.8.8.8)\n    DNSSECONDARY (default: 8.8.4.4)\n    DNSTIMEOUT   (default: 1000 <- 1 second)\n\n## REST ROUTES\n\n\t* GET /dns/api/v1/name\n\n\t\tList all host to ip address mapping\n\n\t* GET /dns/api/v1/name/{host}\n\n\t\tReturn the ip address of only that host\n\n\t* PUT /dns/api/v1/name/{host}\n\n\t\tCreate or Modify the ip address for \"host\"\n\n\t* DELETE /dns/api/v1/name/{host}\n\n\t\tRemove the host from the DNS\n\n\t* DELETE /dns/api/v1/name?force=true\n\n\t\tRemove all host from the DNS\n\n\t* GET /dns/api/v1/zone\n\n\t\tReturn the DNS ZONE\n\n\t* GET /dns/api/v1/status\n\n\t\tReturn the DNS status\n\n\n## To create or modify a host in the DNS configuration\n\n    Single host\n\tcurl -X PUT -H 'Content-Type: application/json' -d '{\"ipv4\":[\"192.168.1.1\"], \"ipv6\":[\"2605:f8b0:4006:802:0:0:0:1010\"]}' http://localhost:8053/dns/api/v1/name/database.domain.com\n\t\n\tMultiple hosts\n    curl -X PUT -H 'Content-Type: application/json' -d '{\"ipv4\":[\"192.168.1.1\",\"192.168.1.2\"], \"ipv6\":[\"2605:f8b0:4006:802:0:0:0:1010\",\"2605:f8b0:4006:802:0:0:0:1011\"]}' http://localhost:8053/dns/api/v1/name/database.domain.com\n\n## To query the address of a host\n\n\tcurl http://localhost:8053/dns/api/v1/name/database.domain.com\n\tor\n\tdig @127.0.0.1 database.domain.com\n\tor\n\tdig @127.0.0.1 database.domain.com AAAA\n\n## To remove a host from the registry\n\n\tcurl -X DELETE http://localhost:8053/dns/api/v1/name/database.domain.com\n\n# UPGRADING from 0.0.9 or 0.1.0 to a version greater than 0.1.0\n\nYou will need to clear your redis configuration before running the new version.\n\n    curl -X DELETE http://localhost:8053/dns/api/v1/name\\?force\\=true\n    or\n    for key in `echo 'KEYS dns*' | redis-cli | awk '{print $1}'` ; do echo DEL $key ; done | redis-cli\n    ",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/hbouvier/dns/issues"
  },
  "_id": "dns@0.2.2",
  "dist": {
    "shasum": "7b96a7546c757497f6518c90639424a025f34c09"
  },
  "_from": "dns@*",
  "_resolved": "https://registry.npmjs.org/dns/-/dns-0.2.2.tgz"
}
